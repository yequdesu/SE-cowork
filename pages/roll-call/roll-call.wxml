<view class="container">
  
  <!-- é¡¶éƒ¨å¯¼èˆª/æ¨¡å¼åˆ‡æ¢ -->
  <view class="header-section">
    <text class="page-title">è¯¾å ‚ç‚¹å</text>
    <view class="tab-control">
      <view 
        class="tab-item {{currentMode === 'random' ? 'active' : ''}}" 
        bindtap="selectMode" 
        data-mode="random"
      >éšæœºæ¨¡å¼</view>
      <view 
        class="tab-item {{currentMode === 'sequential' ? 'active' : ''}}" 
        bindtap="selectMode" 
        data-mode="sequential"
      >é¡ºåºæ¨¡å¼</view>
    </view>
  </view>

  <!-- æ ¸å¿ƒå±•ç¤ºåŒºï¼šå¤§å¡ç‰‡ -->
  <view class="hero-card">
    <!-- ç©ºçŠ¶æ€/ç­‰å¾…çŠ¶æ€ -->
    <view wx:if="{{!currentStudent.name}}" class="empty-state">
      <view class="placeholder-icon">?</view>
      <text class="placeholder-text">å‡†å¤‡å°±ç»ªï¼Œè¯·å¼€å§‹ç‚¹å</text>
    </view>

    <!-- ç»“æœçŠ¶æ€ -->
    <view wx:else class="result-state">
      <view class="avatar-placeholder">{{currentStudent.name[0]}}</view>
      <text class="student-name">{{currentStudent.name}}</text>
      <text class="student-id">{{currentStudent.student_id}}</text>
    </view>
  </view>

  <!-- æ ¸å¿ƒæ“ä½œæŒ‰é’® -->
  <button class="btn-main" hover-class="btn-hover" bindtap="performRollCall">
    <text class="icon-dice">ğŸ²</text> å¼€å§‹ç‚¹å
  </button>

  <!-- è¯„ä»·/æ›´æ–°è¡¨å• (ä»…åœ¨æœ‰å­¦ç”Ÿæ—¶æ˜¾ç¤ºï¼Œæˆ–è€…ä¸€ç›´æ˜¾ç¤ºä½†ç½®ç°ï¼Œè¿™é‡Œå‡è®¾æœ‰ç»“æœæ‰æ˜¾ç¤º) -->
  <view class="evaluation-panel {{currentStudent.name ? 'show' : ''}}">
    <text class="panel-title">è¯¾å ‚è¡¨ç°è®°å½•</text>
    
    <!-- æ ‡ç­¾å¼å¼€å…³ -->
    <view class="tags-row">
      <view 
        class="tag-item {{arrived ? 'active success' : ''}}" 
        bindtap="toggleArrived"
      >
        <text wx:if="{{arrived}}">âœ“</text> å·²åˆ°è¾¾
      </view>
      
      <view 
        class="tag-item {{repeatedQuestion ? 'active warning' : ''}}" 
        bindtap="toggleRepeated"
      >
        <text wx:if="{{repeatedQuestion}}">âœ“</text> é‡å¤æé—®
      </view>
    </view>

    <!-- åˆ†æ•°è¾“å…¥ -->
    <view class="input-group">
      <text class="input-label">å›ç­”è¯„åˆ†</text>
      <input 
        class="score-input" 
        placeholder="0-10" 
        value="{{scoreInput}}" 
        bindinput="onScoreInput" 
        type="number" 
        confirm-type="done"
      />
    </view>

    <button class="btn-secondary" hover-class="btn-secondary-hover" bindtap="submitUpdate">
      æäº¤è®°å½•
    </button>
  </view>

</view>