<view class="container">
  <!-- 头部 -->
  <view class="header fade-in">
    <view class="header-content">
      <text class="title">课程选择</text>
      <text class="subtitle">管理您的学习计划与课程安排</text>
    </view>
    <!-- 装饰性元素（可选，如不需要可删） -->
    <view class="header-decoration"></view>
  </view>

  <!-- 当前选中的课程 -->
  <view wx:if="{{selectedCourse}}" class="current-card slide-up" style="animation-delay: 0.1s;">
    <view class="card-header">
      <text class="tag">正在进行</text>
      <view class="status-dot"></view>
    </view>
    <text class="current-name">{{selectedCourse.name}}</text>
    <text wx:if="{{selectedCourse.description}}" class="current-desc">{{selectedCourse.description}}</text>
  </view>

  <!-- 课程列表 -->
  <view class="section slide-up" style="animation-delay: 0.2s;">
    <view class="section-header">
      <text class="section-title">课程列表</text>
      <text class="section-count" wx:if="{{courses.length > 0}}">{{courses.length}}门</text>
    </view>

    <view wx:if="{{courses.length === 0}}" class="empty-state">
      <view class="empty-icon"></view>
      <text>暂无课程，请在下方创建</text>
    </view>

    <view wx:else class="course-list">
      <view 
        wx:for="{{courses}}" 
        wx:key="id" 
        class="course-card {{selectedCourse && selectedCourse.id === item.id ? 'is-active' : ''}}"
        data-course-id="{{item.id}}" 
        bindtap="selectCourse"
        hover-class="card-hover"
        hover-stay-time="150"
      >
        <view class="course-main">
          <text class="course-name">{{item.name}}</text>
          <text wx:if="{{item.description}}" class="course-desc">{{item.description}}</text>
        </view>
        
        <view class="course-actions">
          <!-- 选中状态指示器 -->
          <view class="check-indicator" wx:if="{{selectedCourse && selectedCourse.id === item.id}}">
            <text class="check-icon">✓</text> 已选
          </view>
          <!-- 删除按钮 -->
          <view class="btn-icon-delete" data-course-id="{{item.id}}" catchtap="deleteCourse" hover-class="icon-hover">
            <text class="cross-icon">×</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 创建新课程 -->
  <view class="section slide-up" style="animation-delay: 0.3s;">
    <text class="section-title">新建课程</text>
    <view class="form-card">
      <view class="input-group">
        <input
          class="modern-input"
          placeholder="输入课程名称"
          placeholder-class="input-placeholder"
          value="{{newCourseName}}"
          bindinput="onCourseNameInput"
        />
      </view>
      <view class="input-group">
        <textarea
          class="modern-textarea"
          placeholder="添加描述（可选）"
          placeholder-class="input-placeholder"
          value="{{newCourseDescription}}"
          bindinput="onCourseDescriptionInput"
          disable-default-padding="{{true}}"
        />
      </view>
      <button
        class="btn-primary {{creating || isDisabled ? 'disabled' : ''}}"
        bindtap="createCourse"
        disabled="{{isDisabled || creating}}"
        hover-class="btn-hover"
      >
        {{creating ? '处理中...' : '创建新课程'}}
        <view class="btn-shine"></view>
      </button>
    </view>
  </view>

  <!-- 反馈信息 Toast -->
  <view wx:if="{{message}}" class="toast-message fade-in">
    <text>{{message}}</text>
  </view>
</view>